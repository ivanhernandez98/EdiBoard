<link rel="stylesheet" type="text/css" href="/node_modules/primeng/resources/themes/saga-blue/theme.css" />
<link rel="stylesheet" type="text/css" href="/node_modules/primeng/resources/primeng.min.css" />



<section class="layout gap-x-8 mt-1">
  <div class="sidebar mt-10 ">
    <div class="mx-auto max-w-xl px-6 lg:px-2">

      <dl *ngFor="let entry of (dataSingleEdiResultHeader$ | async) | keyvalue"
        class="grid grid-cols-1 gap-x-8 gap-y-16 text-center lg:grid-cols-1 mt-2">
        <div
          class="max-w-sm p-1 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
          <a href="#">
            <h2 class="-mt-1 mb-2 text-6xl font-semibold tracking-tight text-gray-900 dark:text-white">{{ entry.value }}
            </h2>
          </a>
          <p class="mb-1 font-normal text-gray-500 dark:text-gray-400 text-xl uppercase">{{ entry.key }}
          </p>
        </div>
      </dl>

    </div>
  </div>

  <div class="body mt-6">

    <div class="row-auto w-full my-4 overflow-y-auto" #shipmentsTable><!--  max-h-60 -->
      <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
        <table id="scrollableTable"
          class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 scrollable-table">
          <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Descripción
              </th>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Shipment
              </th>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Estatus EDI
              </th>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Horas Transcurridas
              </th>
            </tr>
          </thead>
          <tbody class="max-h-50"> <!-- onmouseenter="detenerScroll(this)" onmouseleave="reiniciarScroll(this)" -->
            <!-- Aquí iteras sobre tus datos de Angular para llenar las filas -->
            <ng-container *ngFor="let shipment of (dataSingleEdiResult$ | async)?.infoTimeShipments">
              <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                <td scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.descripcion }}
                </td>
                <td class="px-6 py-4  text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.shipment }}
                </td>
                <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.estatus_EDI }}
                </td>
                <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.horasTranscurrido }}
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>


    <div class="row-auto w-full my-5 overflow-y-auto"  #detallesTable><!-- max-h-90 -->
      <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
        <table id="scrollableTable"
          class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 scrollable-table">
          <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
            style="z-index: 100;">
            <tr>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Shipment
              </th>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Equipo
              </th>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Errores
              </th>
              <th scope="col" class="px-6 py-3 sticky-th text-xl">
                Detalles
              </th>
            </tr>
          </thead>
          <tbody> <!-- onmouseenter="detenerScroll(this)" onmouseleave="reiniciarScroll(this)" -->
            <ng-container *ngFor="let shipment of (dataSingleEdiResult$ | async)?.infoErrorShipments">
              <tr
                class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
                <td scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white text-xl">
                  {{ shipment.shipment }}
                </td>
                <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.equipo }}
                </td>
                <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.errores }}
                </td>
                <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                  {{ shipment.detalle_En_La }}
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</section>

<script>
  function detenerScroll(elemento) {
    var id = elemento.id;
    var table = document.getElementById(id);
    table.style.animationPlayState = 'paused';
  }

  function reiniciarScroll(elemento) {
    var id = elemento.id;
    var table = document.getElementById(id);
    table.style.animationPlayState = 'running';
  }
</script>
