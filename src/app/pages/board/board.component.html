<section class="layout">
  <div class="sidebar gap-2">
    <ng-container *ngIf="dataSingleEdiResultHeader$ | async as header">
      <dl class="grid grid-cols-1 gap-x-8 gap-y-2 text-center lg:grid-cols-1 mt-2">
        <ng-container *ngFor="let key of orderKeys">
          <div *ngIf="header.hasOwnProperty(key)"
            class="max-w-sm p-1 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">
            <h2 class="-mt-1 mb-2 text-6xl font-semibold tracking-tight text-gray-900 dark:text-white"
              style="display: flex; justify-content: space-evenly;">
              <ng-container *ngIf="estatusSvgMap[key] as svg">
                <div [innerHTML]="getSvgContent(svg)" class="mr-2 items-center flex"></div>
              </ng-container>
              {{ header[key] }}
            </h2>
            <p class="mb-1 font-normal text-gray-500 dark:text-gray-400 text-xl uppercase">{{ key }}</p>
          </div>
        </ng-container>
      </dl>
    </ng-container>
  </div>


  <div class="Detalles"> <!--   <div class="Detalles m-1"> -->
    <div class="max-w-full bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">

      <table id="scrollableTable"
        class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 scrollable-table">
        <caption
          class="p-5 text-2xl font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800"
          style="position: sticky; z-index: 1;">
          Shipments recibidos
          <p class="mt-1 text-sm font-normal text-gray-500 dark:text-gray-400">
            Shipments recibidos del cliente de las ultimas 24 horas. Ordenado por el mayor tiempo pendiente de recoleccion.
          </p>
        </caption>
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <tr>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Pedido
            </th>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Shipment
            </th>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Estatus
            </th>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Hrs. Transcurridas
            </th>
          </tr>
        </thead>
        <tbody class="max-h-30" class="-z-10">
          <ng-container *ngFor="let shipment of (dataSingleEdiResult$ | async)?.infoTimeShipments">
            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
              <td class="px-6 py-4  text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                {{ shipment.pedido }}
              </td>
              <td class="px-6 py-4  text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                {{ shipment.shipment }}
              </td>
              <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white text-xl"
                [ngClass]="getHorasTranscurridoClass(shipment.horasTranscurrido)">
                {{ shipment.estatus_EDI }}
              </td>

              <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                {{ shipment.horasTranscurrido }}
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>



  <div class="Errores"><!--   <div class="Errores m-1"> -->
    <div class="max-w-full  bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">

      <table id="scrollableTable"
        class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 scrollable-table">
        <caption
          class="p-5 text-2xl font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800"
          style="position: sticky; z-index: 1;">
          Con detalles / Error
          <p class="mt-1 text-sm font-normal text-gray-500 dark:text-gray-400">
            Shipments detectados con un estatus en el cual despues de haberse relacionado, que aun tiene detalles que se deben revisar.
          </p>
        </caption>
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <!-- style="z-index: 100;" -->
          <tr>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Shipment
            </th>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Equipo
            </th>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Errores
            </th>
            <th scope="col" class="px-6 py-3 sticky-th text-xl">
              Detalles
            </th>
          </tr>
        </thead>
        <tbody class="max-h-30">
          <ng-container *ngFor="let shipment of (dataSingleEdiResult$ | async)?.infoErrorShipments">
            <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
              <td scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white text-xl">
                {{ shipment.shipment }}
              </td>
              <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                {{ shipment.equipo }}
              </td>
              <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                {{ shipment.errores }}
              </td>
              <td class="px-6 py-4 text-gray-900 whitespace-nowrap dark:text-white  text-xl">
                {{ shipment.detalle_En_La }}
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>

  </div>
</section>
